# Конвертация старых файлов в новые (v2)



{% hint style="danger" %}
**Рекомендуется начать с создания нового, чистого мира, вместо того, чтобы использовать старый для работы над конвертацией.**
{% endhint %}

{% hint style="warning" %}
## Если вы не создавали своих собственных предметов и использовали только мои - пропустите эту статью, вам не нужно ничего конвертировать. Но обязательно ознакомьтесь со статьей "Конвертация старых предметов и блоков в игре"

Переименуйте папку ItemsAdder в папку ItemsAdder\_backup, удалите старый плагин и установите плагин версии +2.0
{% endhint %}

### Что поменялось?

Код ItemsAdder v2 был изменен от и до, по сравнению со старыми версиями. В нем изменились ВСЕ конфигурации, все пути к ресурсам/конфигурации/формат.   
Теперь это совершенно другой плагин, в котором намного больше новых функций, который более оптимизирован и который стал намного проще в использовании.

### Как конвертировать старые файлы в новый формат?

Следуйте следующей инструкции :D

{% hint style="warning" %}
**Будьте внимательны и убедитесь, что следуйте инструкции верно**, не торопитесь, чтобы не допускать ошибки и потратить даже больше времени, чем могли.
{% endhint %}

{% hint style="danger" %}
Делайте это ТОЛЬКО на вашем локальном тестовом сервере на вашем ПК, где будет не страшно делать ошибки или потерять некоторые файлы.
{% endhint %}



## Шаг 1

* Отключите старый ItemsAdder из папки плагинов \(удалите ItemsAdder.jar, остановив сервер\)
* Скачайте [ItemsAdder конвертер ](https://www.spigotmc.org/resources/itemsadder-converter.75952/)и положите его в папку плагинов вашего тествого сервера.

## Шаг 2 - копирование конфигураций

* Откройте папку **plugins** и создайте в ней **новую** папку с названием **ItemsAdder\_old**
* Откройте папку с **старой версией** ItemsAdder и скопируйте оттуда все файлы **\(посмотрите на скриншот\)**

![](../.gitbook/assets/image%20%286%29.png)

* Вставьте папку с **предметами** в ранее созданную папку **ItemsAdder\_old**

![](../.gitbook/assets/image%20%285%29.png)

## Шаг 3 - копирование пакета ресурсов

* Создайте **новую** папку с названием **pack** внутри папки **ItemsAdder\_old** 
* Разорхивируйте весь **КОНТЕНТ** вашего старого пакета ресурсов в формате **.zip**-файла внутрь новой папки **pack**

![](../.gitbook/assets/image.png)

## Шаг 4 - приготовьте ItemsAdder 2.0

{% hint style="info" %}
Е**сли вам не особо важны или вы не хотите использовать мои заводские предметы и хотите использовать только свои:** 

откройте основной файл конфигурации `config.yml` в папке **ItemsAdder** \(которую сгенерировал **ItemsAdder версии 2.0**\) и установите эти значения на false.

```text
extract-default-items: false
extract-default-resources: false
```

После чего удалите все файлы внутри `ItemsAdder\data\items_packs\...` **за исключением папок** `minecraft, mcguis и mcicons`.  
После чего удалите все файлы внутри `ItemsAdder\data\resource_pack\assets\...` **за исключением папок** `minecraft, mcguis и mcicons`.

Так же удалите мои категории в файле `ia_gui.yml`
{% endhint %}

## Шаг 5 - подготовка к конвертации

{% hint style="success" %}
ItemsAdder конвертер пропустит мои заводские файлы автоматически и автоматически создаст набор только из ваших файлов.
{% endhint %}

#### Настройка перед началом конвертации

* Откройте файл `plugins/ItemsAdderConverter/config.yml`
* Измените строку `namespace` на любое другое имя. Выберите любое, но без использования ЗАГЛАВНЫЙ или специальных символов. Как пример, **папка** моих предметов названа "`itemsadder`", из-за чего вы можете использовать `/iaget itemsadder:ruby` \(Как вы можете заметить, а сделал больше папок в новой версии для файлов разного функционала\)

## Шаг 6 - конвертация

Чтобы начать конвертировать:

* запустите сервер
* подождите полной загрузки
* используйте команду `/itemsadderconverter:iaconvert`
* **ПОДОЖДИТЕ** **ОКОНЧАНИЯ ВСЕХ ОПЕРАЦИЙ**
* Проверьте, нет ли в консоли ошибок
* **Остановите сервер**, но **только тогда**, когда **конвертация завершится!**

## Установка ItemsAdder v2

{% hint style="danger" %}
* **Остановите** сервер
* Убедитесь, что вы **УДАЛИЛИ старую версию ItemsAdder.jar**
* Если у вас еще есть папка от старого ItemsAdder, тогда **ПЕРЕИМЕНУЙТЕ** ее в папку **ItemsAdder\_backup** или **уничтожьте**, если у нее есть бекапы.
* **Скачайте** ItemsAdder +2.0 и закиньте его в папку плагинов
* **Поднимите** сервер
* Подождите, пока ItemsAdder +2.0 полностью запустится и обновит все файлы
* Если плагин выдал ошибку - прочтите и убедитесь, что все сделали правильно и не допускали ошибок \(не установили плагины-библеотеки, несовместимая версия Spigot ....\) и попробуйте этот шаг снова.
* \(ПРОИГНОРИРУЙТЕ ошибку об URL для пакета ресурсов, это нормально, так как плагин еще не настроен до конца\)
* Откройте папку **ItemsAdder\_converted**, которая была создана
* скопируйте эти две папки: `items_packs` и `resource_pack` в папку нового `ItemsAdder` \(с заменой, если предложит\)
* **Перазагрузите** сервер
{% endhint %}

## Последние задачи

* Удалите папки `ItemsAdderConverter`, `ItemsAdder_converted`, `ItemsAdder_old`.
* Удалите `ItemsAdderConverter.jar` (скорее всего понадобиться остановка сервера)

## Настройка пакета ресурсов

Следуйте данной инструкции:

{% page-ref page="../plugin-usage/resourcepack-hosting/resourcepack-self-hosting.md" %}



\*\*\*\*

